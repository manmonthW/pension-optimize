# 养老最优解小程序 - 快速开始指南

## 🚀 5分钟上手

### 第一步：打开微信开发者工具

1. 下载并安装[微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. 使用微信扫码登录

### 第二步：导入项目

1. 点击 "导入项目"
2. 选择项目目录：`E:\github\pension-v2.0\miniprogram`
3. AppID选择：测试号（或填写你自己的AppID）
4. 项目名称：养老最优解

### 第三步：运行项目

1. 点击工具栏的 "编译" 按钮
2. 在模拟器中查看效果
3. 完成！开始使用吧

## ✨ 特点

- ✅ **零配置**：无需安装npm依赖
- ✅ **零部署**：无需后端服务器
- ✅ **开箱即用**：导入即可运行

## 📱 功能演示

### 场景1：在职女工人

**输入：**
- 人员类型：女工人
- 出生年月：1985年7月
- 城市：北京
- 就业状态：在职
- 缴费基数：8500元
- 已缴年限：13.2年
- 账户余额：82300元
- 4050补贴：否
- 缴费档次：100%

**输出：**
系统会生成5个退休方案（50/51/52/53/55岁），并自动推荐最优方案。

### 场景2：灵活就业人员

**输入：**
- 就业状态：灵活就业
- 缴费档次：60%（降低缴费压力）
- 4050补贴：是

系统会考虑4050补贴，自动计算实际缴费金额。

## 🔧 自定义配置

### 修改城市参数

编辑文件：`miniprogram/config/cityConfig.js`

```javascript
CITY_CONFIG = {
  '北京': {
    avgSalary: 10500,  // 修改社平工资
    baseMin: 6260,     // 修改缴费基数下限
    baseMax: 31833,    // 修改缴费基数上限
    // ... 其他参数
  }
}
```

### 添加新城市

1. 在 `cityConfig.js` 中添加城市配置：

```javascript
CITY_CONFIG = {
  '北京': { ... },
  '上海': {
    city: '上海',
    avgSalary: 11500,
    // ... 完整参数
  }
}
```

2. 在 `pages/index/index.js` 中添加城市选项：

```javascript
data: {
  cities: ['北京', '上海']
}
```

## 🎯 核心文件说明

| 文件 | 作用 | 是否需要修改 |
|------|------|-------------|
| `config/cityConfig.js` | 城市参数配置 | ✅ 根据政策更新 |
| `utils/pensionCalc.js` | 计算引擎 | ❌ 一般不需要 |
| `pages/index/index.js` | 首页逻辑 | ⚠️ 添加城市时需要 |

## ⚠️ 常见问题

### Q1: 提示"项目配置文件读取失败"
**解决：** 确保选择的是 `miniprogram` 目录，不是外层的 `pension-v2.0` 目录

### Q2: 页面空白或报错
**解决：**
1. 检查开发者工具是否是最新版本
2. 点击 "清除缓存" → "全部清除"
3. 重新编译

### Q3: 如何真机预览
**解决：**
1. 点击工具栏的 "预览" 按钮
2. 用微信扫描二维码
3. 在手机上查看效果

### Q4: 计算结果不准确
**解决：**
1. 检查输入数据是否正确
2. 确认城市参数配置是否是最新的
3. 查看 `config/cityConfig.js` 中的参数

## 📊 测试数据

### 测试用例1：女工人（推荐延迟1年）
```
人员类型：女工人
出生：1985-07
缴费基数：8500
已缴年限：13.2
账户余额：82300
档次：100%
```

### 测试用例2：女干部（推荐延迟2年）
```
人员类型：女干部
出生：1980-03
缴费基数：12000
已缴年限：18.5
账户余额：156000
档次：200%
```

### 测试用例3：男职工
```
人员类型：男职工
出生：1975-11
缴费基数：15000
已缴年限：25.0
账户余额：280000
档次：100%
```

## 🛠️ 进阶使用

### 数据持久化

在 `pages/index/index.js` 中添加数据保存：

```javascript
// 保存用户输入
onSubmit() {
  wx.setStorageSync('formData', this.data.formData);
  // ... 原有代码
}

// 加载上次输入
onLoad() {
  const savedData = wx.getStorageSync('formData');
  if (savedData) {
    this.setData({ formData: savedData });
  }
}
```

### 添加分享功能

在各个页面的 `.js` 文件中添加：

```javascript
onShareAppMessage() {
  return {
    title: '养老最优解 - 30秒找到最佳退休方案',
    path: '/pages/index/index'
  }
}
```

## 📝 更新记录

### v2.0.0 (当前版本)
- ✅ 纯前端实现，无需后端
- ✅ 完整的养老金计算引擎
- ✅ 智能推荐算法
- ✅ 支持多种就业状态
- ✅ 4050补贴支持

## 🆘 获取帮助

- 查看 `README.md` 了解详细文档
- 查看 `PRD.md` 了解产品需求
- 查看 `Tech Spec v1.0.md` 了解技术细节

---

**祝你使用愉快！30秒找到养老最优解！**
